<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë…¼ë¬¸ìš© ê·¸ë˜í”„ ìƒì„±ê¸° | ë³´ì¡°ì¶• ì™„ë²½ ì§€ì›</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.plot.ly/plotly-2.25.2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <style>
    .card { background: white; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); border: 1px solid #e5e7eb; padding: 1.25rem; }
    .nav-tab { transition: all 0.2s; cursor: pointer; border-radius: 0.5rem 0.5rem 0 0; }
    #previewArea { min-height: 450px; background-color: #ffffff; }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <div class="max-w-7xl mx-auto p-4 md:p-8">
    <header class="mb-6 flex flex-col md:flex-row md:items-end justify-between gap-4">
      <div>
        <h1 class="text-3xl font-extrabold text-slate-800 tracking-tight">Paper Graph Pro</h1>
        <p class="text-slate-500 mt-1 font-medium">ë³´ì¡°ì¶• ë° êµì°¨ ì „í™˜ì´ í¬í•¨ëœ ë…¼ë¬¸ ê·œê²© ê·¸ë˜í”„ ìƒì„±</p>
      </div>
      <button id="btnSwapAxis" class="flex items-center gap-2 px-5 py-2.5 bg-slate-800 text-white rounded-full text-sm font-bold hover:bg-blue-600 transition shadow-lg">
        <span id="swapIcon">ğŸ”„</span> <span id="swapText">ì¶• êµì°¨ ì „í™˜ (Swap X-Y) Off</span>
      </button>
    </header>

    <div class="flex space-x-1 border-b border-slate-200 mb-6">
      <button id="tab-upload" class="nav-tab px-6 py-2.5 text-sm font-bold bg-blue-600 text-white">1. ë°ì´í„° ë° ì¶• ì„¤ì •</button>
      <button id="tab-edit" class="nav-tab px-6 py-2.5 text-sm font-bold bg-slate-200 text-slate-600 hover:bg-slate-300">2. ìŠ¤íƒ€ì¼ ì •ë°€ ìˆ˜ì •</button>
    </div>

    <div id="panel-upload" class="space-y-6">
      <div class="card">
        <div class="flex flex-col md:flex-row gap-4 items-center">
          <input id="fileInput" type="file" accept=".xlsx,.xls" class="block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" />
          <button id="btnLoad" class="w-full md:w-48 bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 transition">ì—‘ì…€ ë¡œë“œ</button>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card border-t-4 border-t-blue-500">
          <h3 class="font-bold text-sm text-blue-800 mb-4 uppercase tracking-tighter italic">X-Axis Configuration</h3>
          <div class="space-y-4">
            <div><label class="text-[11px] font-bold text-slate-400">Main X-Axis</label><select id="xAxisMain" class="w-full border p-2 rounded bg-slate-50 text-sm"></select></div>
            <div><label class="text-[11px] font-bold text-slate-400">Sub X-Axis (Optional)</label><select id="xAxisSub" class="w-full border p-2 rounded bg-slate-50 text-sm"></select></div>
          </div>
        </div>
        <div class="card border-t-4 border-t-emerald-500">
          <h3 class="font-bold text-sm text-emerald-800 mb-4 uppercase tracking-tighter italic">Y-Axis Configuration</h3>
          <div class="space-y-4">
            <div><label class="text-[11px] font-bold text-slate-400">Main Y-Axis</label><select id="yAxisMain" class="w-full border p-2 rounded bg-slate-50 text-sm"></select></div>
            <div><label class="text-[11px] font-bold text-slate-400">Secondary Y-Axis (Right)</label><select id="yAxisSub" class="w-full border p-2 rounded bg-slate-50 text-sm"></select></div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3 class="font-bold text-slate-800 mb-4">ğŸ“Š ë°ì´í„° ê³„ì—´ ì„ íƒ</h3>
        <div id="columnsArea" class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-3 p-4 border rounded-xl bg-slate-50 max-h-60 overflow-y-auto shadow-inner"></div>
      </div>

      <div class="flex flex-col md:flex-row gap-4">
        <select id="chartType" class="md:w-1/4 border p-3 rounded-lg bg-white font-bold shadow-sm">
          <option value="scatter">Scatter / Line</option>
          <option value="bar">Bar Chart</option>
        </select>
        <button id="btnPlot" class="flex-1 py-4 bg-slate-800 text-white rounded-lg font-bold text-lg hover:bg-slate-900 shadow-xl transition transform active:scale-[0.99]">ê·¸ë˜í”„ ìƒì„± ë° ì‹œê°í™”</button>
      </div>
    </div>

    <div id="panel-edit" class="hidden space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="card">
          <div class="font-bold border-b pb-2 mb-4">ë¼ë²¨ ì»¤ìŠ¤í…€</div>
          <div class="space-y-3">
            <input id="titleInput" placeholder="Graph Title" class="w-full border p-2 text-sm rounded" />
            <div id="xlabels-container" class="space-y-2"></div>
            <div id="ylabels-container" class="space-y-2"></div>
            <div class="flex gap-4 pt-2 border-t mt-2">
              <label class="inline-flex items-center text-xs"><input id="xlog" type="checkbox" class="mr-2" /> Log Scale</label>
              <label class="inline-flex items-center text-xs"><input id="yinvert" type="checkbox" class="mr-2" /> Invert Y</label>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="font-bold border-b pb-2 mb-4">ë…¼ë¬¸ ìŠ¤íƒ€ì¼ ì„¤ì •</div>
          <div class="space-y-4">
            <div class="flex items-center justify-between">
              <label class="text-sm font-medium"><input id="gridToggle" type="checkbox" class="mr-2" /> Grid Line</label>
              <input id="gridColor" type="color" value="#f1f1f1" class="h-8 w-12 border rounded" />
            </div>
            <div class="flex items-center justify-between border-t pt-2">
              <label class="text-sm font-medium"><input id="legendShow" type="checkbox" class="mr-2" checked /> Legend</label>
              <select id="legendPos" class="border text-xs p-1 rounded"><option value="top right">Top-Right</option><option value="top left">Top-Left</option></select>
            </div>
          </div>
        </div>
        <div class="card md:col-span-2">
            <div class="font-bold border-b pb-2 mb-4">ê³„ì—´ ìƒì„¸ ì„¤ì • (Series Formatting)</div>
            <div id="seriesControls" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"></div>
        </div>
      </div>
      <div class="card bg-slate-800 text-white flex flex-col md:flex-row items-center gap-6">
        <div class="flex items-center gap-3">
          <span class="text-sm font-bold">Size:</span>
          <input id="chartWidth" type="number" placeholder="W" class="w-20 p-2 rounded bg-slate-700 text-white text-sm" />
          <span class="text-slate-500">Ã—</span>
          <input id="chartHeight" type="number" placeholder="H" class="w-20 p-2 rounded bg-slate-700 text-white text-sm" />
        </div>
        <button id="btnUpdatePreview" class="w-full md:w-auto px-10 py-3 bg-blue-500 text-white rounded-lg font-bold">ë³€ê²½ ì‚¬í•­ ë°˜ì˜</button>
      </div>
    </div>

    <div class="mt-8">
      <div id="previewArea" class="card min-h-[500px] border-2 border-slate-200"></div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
